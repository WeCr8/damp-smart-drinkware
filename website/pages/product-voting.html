<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#0f0f23">
    
    <!-- Prevent PWA installation prompts -->
    <meta name="mobile-web-app-capable" content="no">
    <meta name="apple-mobile-web-app-capable" content="no">
    
    <!-- SEO Meta Tags -->
    <title>DAMP Product Voting - Help Us Prioritize Development | Community Choice</title>
    <meta name="description" content="Vote for your favorite DAMP Smart Drinkware product! Help us prioritize development by voting for Handle, Silicone Bottom, Cup Sleeve, or Baby Bottle.">
    <meta name="keywords" content="DAMP product voting, community choice, smart drinkware poll, product development priority">
    <meta name="author" content="WeCr8 Solutions LLC">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://dampdrink.com/pages/product-voting.html">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://dampdrink.com/pages/product-voting.html">
    <meta property="og:title" content="DAMP Product Voting - Community Choice">
    <meta property="og:description" content="Help us prioritize DAMP Smart Drinkware development! Vote for your favorite product and see real-time results.">
    <meta property="og:image" content="https://dampdrink.com/assets/images/og-image.jpg">
    <meta property="og:site_name" content="DAMP Smart Drinkware">
    
    <!-- CSS Architecture -->
    <link rel="stylesheet" href="../assets/css/main.css">
    
    <!-- Voting System Styles -->
    <style>
        :root {
            --vote-glass-width: 120px;
            --vote-glass-height: 200px;
            --vote-liquid-color: #00d4ff;
            --vote-liquid-glow: rgba(0, 212, 255, 0.3);
            --vote-ball-size: 20px;
            --vote-glass-border: #ffffff40;
            --vote-target: 100;
        }
        
        .voting-body {
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            min-height: 100vh;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .voting-hero {
            padding: 120px 20px 60px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .voting-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 50% 50%, rgba(0, 212, 255, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }
        
        .hero-content {
            max-width: 900px;
            margin: 0 auto;
            z-index: 2;
            position: relative;
        }
        
        .voting-badge {
            display: inline-block;
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            color: white;
            padding: 10px 25px;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }
        
        .hero-title {
            font-size: clamp(2.5rem, 8vw, 4rem);
            font-weight: 900;
            background: linear-gradient(45deg, #ffffff, #00d4ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
            line-height: 1.1;
        }
        
        .hero-subtitle {
            font-size: clamp(1.1rem, 3vw, 1.4rem);
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 40px;
            line-height: 1.4;
        }
        
        .vote-target-info {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid rgba(0, 255, 136, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin: 40px auto;
            max-width: 500px;
            text-align: center;
        }
        
        .target-display {
            font-size: 2rem;
            font-weight: bold;
            color: #00ff88;
            margin-bottom: 10px;
        }
        
        .target-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1rem;
        }
        
        .voting-container {
            padding: 60px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .voting-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 40px;
            margin-bottom: 60px;
        }
        
        .product-vote-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            padding: 30px;
            text-align: center;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .product-vote-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 212, 255, 0.2);
            border-color: rgba(0, 212, 255, 0.3);
        }
        
        .product-rank {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .rank-1 {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #000;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
        
        .rank-2 {
            background: linear-gradient(45deg, #c0c0c0, #e8e8e8);
            color: #000;
            box-shadow: 0 0 15px rgba(192, 192, 192, 0.5);
        }
        
        .rank-3 {
            background: linear-gradient(45deg, #cd7f32, #d4af37);
            color: #fff;
            box-shadow: 0 0 15px rgba(205, 127, 50, 0.5);
        }
        
        .product-image {
            margin-bottom: 20px;
        }
        
        .product-image img {
            width: 80px;
            height: 80px;
            object-fit: contain;
            border-radius: 10px;
        }
        
        .product-name {
            font-size: 1.3rem;
            font-weight: bold;
            color: #00d4ff;
            margin-bottom: 15px;
        }
        
        .vote-glass-container {
            position: relative;
            width: var(--vote-glass-width);
            height: var(--vote-glass-height);
            margin: 30px auto;
        }
        
        .vote-glass {
            width: 100%;
            height: 100%;
            border: 3px solid var(--vote-glass-border);
            border-radius: 0 0 15px 15px;
            position: relative;
            background: rgba(255, 255, 255, 0.05);
            overflow: hidden;
        }
        
        .vote-liquid {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(180deg, 
                var(--vote-liquid-color) 0%, 
                rgba(0, 212, 255, 0.8) 50%, 
                rgba(0, 212, 255, 0.9) 100%);
            border-radius: 0 0 12px 12px;
            transition: height 1s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 20px var(--vote-liquid-glow);
        }
        
        .vote-liquid::before {
            content: '';
            position: absolute;
            top: -5px;
            left: 0;
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: liquidWave 3s ease-in-out infinite;
        }
        
        .damp-ball {
            position: absolute;
            width: var(--vote-ball-size);
            height: var(--vote-ball-size);
            background: #ffffff;
            border-radius: 50%;
            left: 50%;
            transform: translateX(-50%);
            transition: bottom 1s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
            color: #0f0f23;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            z-index: 10;
        }
        
        .damp-ball::before {
            content: 'DAMP';
            font-size: 6px;
            letter-spacing: 0.5px;
        }
        
        .vote-count {
            font-size: 1.8rem;
            font-weight: bold;
            color: #00ff88;
            margin: 15px 0 10px;
        }
        
        .vote-percentage {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 20px;
        }
        
        .vote-button {
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .vote-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.4);
        }
        
        .vote-button:active {
            transform: scale(0.95);
        }
        
        .vote-button.voted {
            background: linear-gradient(45deg, #00ff88, #00cc6a);
            animation: voteSuccess 0.6s ease;
        }
        
        .voting-stats {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .stats-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #00d4ff;
            margin-bottom: 20px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #00ff88;
            display: block;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .voting-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px 0;
            flex-wrap: wrap;
        }
        
        .control-button {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 10px 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .control-button:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes liquidWave {
            0%, 100% { transform: scaleX(1); }
            50% { transform: scaleX(1.1); }
        }
        
        @keyframes voteSuccess {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes ballBounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-5px); }
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .voting-hero {
                padding: 100px 15px 40px;
            }
            
            .voting-container {
                padding: 40px 15px;
            }
            
            .voting-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .vote-glass-container {
                width: 100px;
                height: 160px;
            }
            
            :root {
                --vote-glass-width: 100px;
                --vote-glass-height: 160px;
                --vote-ball-size: 16px;
            }
            
            .voting-controls {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
    
    <!-- Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'GA_MEASUREMENT_ID', {
            page_title: 'DAMP Product Voting',
            send_page_view: true
        });
    </script>
</head>

<body class="voting-body">
    <!-- Navigation Header -->
    <damp-header></damp-header>

    <!-- Hero Section -->
    <section class="voting-hero">
        <div class="hero-content">
            <div class="voting-badge">
                🗳️ COMMUNITY CHOICE
            </div>
            
            <h1 class="hero-title">
                Vote for Your Favorite DAMP Product
            </h1>
            
            <p class="hero-subtitle">
                Help us prioritize development! Vote for the DAMP Smart Drinkware product you're most excited about. 
                Watch the glasses fill up as votes pour in!
            </p>
            
            <div class="vote-target-info">
                <div class="target-display" id="voteTarget">100</div>
                <div class="target-label">votes to reach development milestone</div>
            </div>
        </div>
    </section>

    <!-- Voting Section -->
    <section class="voting-container">
        <div class="voting-grid" id="votingGrid">
            <!-- Products will be dynamically loaded here -->
        </div>
        
        <!-- Voting Controls -->
        <div class="voting-controls">
            <button class="control-button" onclick="resetVotes()">🔄 Reset All Votes</button>
            <button class="control-button" onclick="adjustTarget()">🎯 Adjust Target</button>
            <button class="control-button" onclick="exportResults()">📊 Export Results</button>
            <button class="control-button" onclick="simulateVotes()">🤖 Simulate Activity</button>
        </div>
        
        <!-- Voting Stats -->
        <div class="voting-stats">
            <div class="stats-title">📈 Live Voting Statistics</div>
            <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 20px;">
                Real-time community feedback on DAMP Smart Drinkware development priorities
            </p>
            
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-number" id="totalVotes">0</span>
                    <span class="stat-label">Total Votes</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="leadingProduct">—</span>
                    <span class="stat-label">Leading Product</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="completionRate">0%</span>
                    <span class="stat-label">Target Progress</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="participantCount">0</span>
                    <span class="stat-label">Participants</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer" style="background: rgba(0, 0, 0, 0.5); padding: 40px 20px; text-align: center;">
        <div style="max-width: 800px; margin: 0 auto;">
            <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: 20px;">
                Your vote helps shape the future of DAMP Smart Drinkware development!
            </p>
            
            <div style="display: flex; justify-content: center; gap: 30px; flex-wrap: wrap; margin-bottom: 20px;">
                <a href="products.html" style="color: rgba(255, 255, 255, 0.6); text-decoration: none;">View All Products</a>
                <a href="about.html" style="color: rgba(255, 255, 255, 0.6); text-decoration: none;">About DAMP</a>
                <a href="support.html" style="color: rgba(255, 255, 255, 0.6); text-decoration: none;">Support</a>
            </div>
            
            <p style="color: rgba(255, 255, 255, 0.5); font-size: 0.9rem;">
                &copy; 2025 WeCr8 Solutions LLC. All rights reserved.
            </p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="../assets/js/components/safe-area-wrapper.js"></script>
    <script src="../assets/js/components/header.js"></script>
    
    <!-- Product Voting System -->
    <script>
        class ProductVotingSystem {
            constructor() {
                this.voteTarget = 100;
                this.products = [
                    {
                        id: 'damp-handle',
                        name: 'DAMP Handle v1.0',
                        image: '../assets/images/products/damp-handle/damp-handle.png',
                        description: 'Universal attachment for any mug',
                        votes: 0
                    },
                    {
                        id: 'silicone-bottom',
                        name: 'Silicone Bottom v1.0',
                        image: '../assets/images/products/silicone-bottom/silicone-bottom.png',
                        description: 'Non-slip silicone base',
                        votes: 0
                    },
                    {
                        id: 'cup-sleeve',
                        name: 'Cup Sleeve v1.0',
                        image: '../assets/images/products/cup-sleeve/cup-sleeve.png',
                        description: 'Adjustable fit for most cups',
                        votes: 0
                    },
                    {
                        id: 'baby-bottle',
                        name: 'Baby Bottle v1.0',
                        image: '../assets/images/products/baby-bottle/baby-bottle.png',
                        description: 'BPA-free smart bottle',
                        votes: 0
                    }
                ];
                
                this.userVotes = new Set();
                this.init();
            }
            
            init() {
                this.loadSavedData();
                this.renderProducts();
                this.updateStats();
                this.startAutoSave();
            }
            
            loadSavedData() {
                try {
                    const saved = localStorage.getItem('dampVotingData');
                    if (saved) {
                        const data = JSON.parse(saved);
                        this.products = data.products || this.products;
                        this.voteTarget = data.voteTarget || this.voteTarget;
                        this.userVotes = new Set(data.userVotes || []);
                    }
                } catch (error) {
                    console.warn('Could not load saved voting data:', error);
                }
            }
            
            saveData() {
                try {
                    const data = {
                        products: this.products,
                        voteTarget: this.voteTarget,
                        userVotes: Array.from(this.userVotes),
                        lastUpdated: new Date().toISOString()
                    };
                    localStorage.setItem('dampVotingData', JSON.stringify(data));
                } catch (error) {
                    console.warn('Could not save voting data:', error);
                }
            }
            
            startAutoSave() {
                setInterval(() => {
                    this.saveData();
                }, 30000); // Save every 30 seconds
            }
            
            renderProducts() {
                const grid = document.getElementById('votingGrid');
                
                // Sort products by votes (descending)
                const sortedProducts = [...this.products].sort((a, b) => b.votes - a.votes);
                
                grid.innerHTML = sortedProducts.map((product, index) => {
                    const percentage = this.getTotalVotes() > 0 ? (product.votes / this.getTotalVotes() * 100) : 0;
                    const fillHeight = (product.votes / this.voteTarget) * 100;
                    const ballPosition = Math.min(fillHeight, 95); // Keep ball in glass
                    
                    const rankClass = index === 0 ? 'rank-1' : index === 1 ? 'rank-2' : index === 2 ? 'rank-3' : '';
                    const isUserVoted = this.userVotes.has(product.id);
                    
                    return `
                        <div class="product-vote-card" data-product="${product.id}">
                            <div class="product-rank ${rankClass}">${index + 1}</div>
                            
                            <div class="product-image">
                                <img src="${product.image}" alt="${product.name}" loading="lazy">
                            </div>
                            
                            <h3 class="product-name">${product.name}</h3>
                            <p style="color: rgba(255, 255, 255, 0.7); font-size: 0.9rem; margin-bottom: 20px;">
                                ${product.description}
                            </p>
                            
                            <div class="vote-glass-container">
                                <div class="vote-glass">
                                    <div class="vote-liquid" style="height: ${Math.max(fillHeight, 0)}%"></div>
                                    <div class="damp-ball" style="bottom: ${Math.max(ballPosition, 5)}%"></div>
                                </div>
                            </div>
                            
                            <div class="vote-count">${product.votes}</div>
                            <div class="vote-percentage">${percentage.toFixed(1)}% of total votes</div>
                            
                            <button class="vote-button ${isUserVoted ? 'voted' : ''}" 
                                    onclick="votingSystem.vote('${product.id}')"
                                    ${isUserVoted ? 'disabled' : ''}>
                                ${isUserVoted ? '✓ Voted' : '🗳️ Vote'}
                            </button>
                        </div>
                    `;
                }).join('');
                
                // Update target display
                document.getElementById('voteTarget').textContent = this.voteTarget;
            }
            
            vote(productId) {
                if (this.userVotes.has(productId)) {
                    return; // Already voted for this product
                }
                
                // Find and update product
                const product = this.products.find(p => p.id === productId);
                if (product) {
                    product.votes++;
                    this.userVotes.add(productId);
                    
                    // Re-render to update rankings
                    this.renderProducts();
                    this.updateStats();
                    this.saveData();
                    
                    // Track vote in analytics
                    this.trackVote(productId, product.votes);
                    
                    // Show success feedback
                    this.showVoteSuccess(productId);
                }
            }
            
            showVoteSuccess(productId) {
                const card = document.querySelector(`[data-product="${productId}"]`);
                if (card) {
                    card.style.transform = 'scale(1.05)';
                    setTimeout(() => {
                        card.style.transform = '';
                    }, 300);
                }
            }
            
            getTotalVotes() {
                return this.products.reduce((total, product) => total + product.votes, 0);
            }
            
            updateStats() {
                const totalVotes = this.getTotalVotes();
                const leadingProduct = [...this.products].sort((a, b) => b.votes - a.votes)[0];
                const completionRate = totalVotes > 0 ? ((leadingProduct.votes / this.voteTarget) * 100) : 0;
                
                document.getElementById('totalVotes').textContent = totalVotes;
                document.getElementById('leadingProduct').textContent = 
                    leadingProduct.votes > 0 ? leadingProduct.name.split(' ')[0] + ' ' + leadingProduct.name.split(' ')[1] : '—';
                document.getElementById('completionRate').textContent = completionRate.toFixed(1) + '%';
                document.getElementById('participantCount').textContent = this.userVotes.size;
            }
            
            trackVote(productId, newTotal) {
                try {
                    if (window.gtag) {
                        gtag('event', 'product_vote', {
                            product_id: productId,
                            vote_total: newTotal,
                            event_category: 'voting',
                            event_label: productId
                        });
                    }
                } catch (error) {
                    console.warn('Analytics tracking failed:', error);
                }
            }
            
            resetVotes() {
                if (confirm('Are you sure you want to reset all votes? This cannot be undone.')) {
                    this.products.forEach(product => product.votes = 0);
                    this.userVotes.clear();
                    this.renderProducts();
                    this.updateStats();
                    this.saveData();
                }
            }
            
            adjustTarget() {
                const newTarget = prompt('Enter new vote target:', this.voteTarget);
                if (newTarget && !isNaN(newTarget) && newTarget > 0) {
                    this.voteTarget = parseInt(newTarget);
                    this.renderProducts();
                    this.saveData();
                }
            }
            
            exportResults() {
                const results = {
                    timestamp: new Date().toISOString(),
                    voteTarget: this.voteTarget,
                    totalVotes: this.getTotalVotes(),
                    participants: this.userVotes.size,
                    products: this.products.map(p => ({
                        name: p.name,
                        votes: p.votes,
                        percentage: this.getTotalVotes() > 0 ? (p.votes / this.getTotalVotes() * 100).toFixed(2) : 0
                    })).sort((a, b) => b.votes - a.votes)
                };
                
                const blob = new Blob([JSON.stringify(results, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `damp-voting-results-${Date.now()}.json`;
                a.click();
                URL.revokeObjectURL(url);
            }
            
            simulateVotes() {
                // Add random votes for demonstration
                const iterations = Math.floor(Math.random() * 10) + 5;
                
                for (let i = 0; i < iterations; i++) {
                    setTimeout(() => {
                        const randomProduct = this.products[Math.floor(Math.random() * this.products.length)];
                        randomProduct.votes++;
                        
                        if (i === iterations - 1) {
                            this.renderProducts();
                            this.updateStats();
                            this.saveData();
                        }
                    }, i * 200);
                }
            }
        }
        
        // Initialize voting system when DOM is ready
        let votingSystem;
        document.addEventListener('DOMContentLoaded', () => {
            votingSystem = new ProductVotingSystem();
        });
        
        // Global functions for buttons
        function resetVotes() {
            votingSystem.resetVotes();
        }
        
        function adjustTarget() {
            votingSystem.adjustTarget();
        }
        
        function exportResults() {
            votingSystem.exportResults();
        }
        
        function simulateVotes() {
            votingSystem.simulateVotes();
        }
        
        // Auto-refresh stats every 30 seconds
        setInterval(() => {
            if (votingSystem) {
                votingSystem.updateStats();
            }
        }, 30000);
    </script>
</body>
</html> 