<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#0f0f23">
    
    <!-- SEO Meta Tags -->
    <title>DAMP Subscription Plans - Choose Your Smart Drinkware Tier</title>
    <meta name="description" content="Choose the perfect DAMP Smart Drinkware subscription plan. Free tier with 1 device, DAMP+ with 3 devices, or DAMP Family with unlimited devices and zones.">
    <meta name="keywords" content="DAMP subscription, smart drinkware plans, BLE tracking, drink alerts, safe zones">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://dampdrink.com/pages/subscription.html">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="DAMP Subscription Plans - Smart Drinkware Tiers">
    <meta property="og:description" content="Never leave your drink behind with DAMP Smart Drinkware. Choose from Free, DAMP+, or DAMP Family plans.">
    <meta property="og:image" content="https://dampdrink.com/assets/images/og-subscription.jpg">
    
    <!-- CSS -->
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/components/cookie-consent.css">
    <script src="../assets/js/components/safe-area-wrapper.js"></script>
    
    <style>
        .subscription-hero {
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            padding: 120px 0 80px;
            text-align: center;
            color: white;
        }
        
        .subscription-title {
            font-size: clamp(2.5rem, 6vw, 4rem);
            font-weight: 900;
            margin-bottom: 1.5rem;
            background: linear-gradient(45deg, #ffffff, #00d4ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subscription-subtitle {
            font-size: clamp(1.1rem, 3vw, 1.4rem);
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .pricing-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 80px 20px;
        }
        
        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .pricing-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 2.5rem;
            text-align: center;
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            backdrop-filter: blur(10px);
        }
        
        .pricing-card:hover {
            transform: translateY(-10px);
            border-color: rgba(0, 212, 255, 0.5);
            box-shadow: 0 20px 60px rgba(0, 212, 255, 0.15);
        }
        
        .pricing-card.popular {
            border-color: #00ff88;
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.1), rgba(0, 212, 255, 0.05));
        }
        
        .popular-badge {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, #00ff88, #00cc6a);
            color: #0f0f23;
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .tier-name {
            font-size: 1.8rem;
            font-weight: bold;
            color: #00d4ff;
            margin-bottom: 0.5rem;
        }
        
        .tier-description {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
        }
        
        .tier-price {
            font-size: 3rem;
            font-weight: 900;
            color: white;
            margin-bottom: 0.5rem;
        }
        
        .tier-price.free {
            color: #00ff88;
        }
        
        .tier-interval {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            margin-bottom: 2rem;
        }
        
        .features-list {
            list-style: none;
            padding: 0;
            margin: 2rem 0;
            text-align: left;
        }
        
        .features-list li {
            padding: 0.8rem 0;
            color: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .features-list li:last-child {
            border-bottom: none;
        }
        
        .features-list li::before {
            content: "✓";
            color: #00ff88;
            font-weight: bold;
            margin-right: 0.8rem;
            font-size: 1.1rem;
        }
        
        .subscription-btn {
            width: 100%;
            padding: 1rem 2rem;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }
        
        .btn-free {
            background: linear-gradient(45deg, #00ff88, #00cc6a);
            color: #0f0f23;
        }
        
        .btn-premium {
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            color: #0f0f23;
        }
        
        .btn-family {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            color: white;
        }
        
        .subscription-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .feature-comparison {
            margin-top: 4rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 3rem;
        }
        
        .comparison-title {
            text-align: center;
            font-size: 2rem;
            font-weight: bold;
            color: white;
            margin-bottom: 2rem;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 2rem;
        }
        
        .comparison-table th,
        .comparison-table td {
            padding: 1rem;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .comparison-table th {
            background: rgba(0, 212, 255, 0.1);
            color: #00d4ff;
            font-weight: bold;
        }
        
        .comparison-table td {
            color: rgba(255, 255, 255, 0.9);
        }
        
        .feature-name {
            text-align: left !important;
            font-weight: 500;
        }
        
        .faq-section {
            margin-top: 4rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .faq-title {
            text-align: center;
            font-size: 2rem;
            font-weight: bold;
            color: white;
            margin-bottom: 2rem;
        }
        
        .faq-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .faq-question {
            font-weight: bold;
            color: #00d4ff;
            margin-bottom: 0.5rem;
        }
        
        .faq-answer {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
        }
        
        @media (max-width: 768px) {
            .pricing-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .pricing-card {
                padding: 2rem;
            }
            
            .comparison-table {
                font-size: 0.9rem;
            }
            
            .comparison-table th,
            .comparison-table td {
                padding: 0.5rem;
            }
        }
    </style>

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="DAMP">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="msapplication-TileColor" content="#1a1a2e">
    <meta name="msapplication-tap-highlight" content="no">
    
    <!-- PWA Theme Colors -->
    <meta name="theme-color" content="#00d4ff" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#1a1a2e" media="(prefers-color-scheme: dark)">
    
    <!-- PWA Icons -->
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/logo/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/logo/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="/assets/images/logo/icon-48.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/assets/images/logo/icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/assets/images/logo/icon-512.png">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/images/logo/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/images/logo/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/images/logo/icon-72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/images/logo/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/images/logo/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/images/logo/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/images/logo/icon-144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/images/logo/icon-152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/logo/apple-icon-180x180.png"></head>
<body>
    <!-- Navigation Header -->
    <damp-header></damp-header>

    <!-- Hero Section -->
    <section class="subscription-hero">
        <div class="container">
            <h1 class="subscription-title">Choose Your DAMP Plan</h1>
            <p class="subscription-subtitle">
                Never leave your drink behind with the perfect subscription tier for your needs. 
                Start free or upgrade for more devices and advanced features.
            </p>
        </div>
    </section>

    <!-- Pricing Section -->
    <section class="pricing-container">
        <div class="pricing-grid">
            <!-- Free Tier -->
            <div class="pricing-card">
                <h3 class="tier-name">DAMP Free</h3>
                <p class="tier-description">Perfect for trying out DAMP Smart Drinkware</p>
                <div class="tier-price free">$0</div>
                <div class="tier-interval">Forever free</div>
                
                <ul class="features-list">
                    <li>1 Registered Device</li>
                    <li>2 Safe Zones</li>
                    <li>Basic Notifications</li>
                    <li>Battery Monitoring</li>
                    <li>Mobile App Access</li>
                </ul>
                
                <a href="#" class="subscription-btn btn-free" onclick="selectPlan('free')">
                    Get Started Free
                </a>
            </div>

            <!-- DAMP+ Tier -->
            <div class="pricing-card popular">
                <div class="popular-badge">Most Popular</div>
                <h3 class="tier-name">DAMP+</h3>
                <p class="tier-description">Enhanced features for power users and small families</p>
                <div class="tier-price">$2.99</div>
                <div class="tier-interval">per month</div>
                
                <ul class="features-list">
                    <li>Track up to 3 devices</li>
                    <li>5 Safe Zones</li>
                    <li>Standard Notifications</li>
                    <li>Battery Monitoring</li>
                    <li>Priority Support</li>
                </ul>
                
                <a href="#" class="subscription-btn btn-premium" onclick="selectPlan('damp_plus')">
                    Upgrade to DAMP+
                </a>
            </div>

            <!-- DAMP Family Tier -->
            <div class="pricing-card">
                <h3 class="tier-name">DAMP Family</h3>
                <p class="tier-description">Complete solution for families and teams</p>
                <div class="tier-price">$5.99</div>
                <div class="tier-interval">per month</div>
                
                <ul class="features-list">
                    <li>Track up to 10 devices</li>
                    <li>Unlimited Safe Zones</li>
                    <li>Custom Notifications</li>
                    <li>Time-based Reminders</li>
                    <li>Shared Family Alerts</li>
                    <li>Location History</li>
                    <li>Smart Recommendations</li>
                    <li>Priority Support</li>
                </ul>
                
                <a href="#" class="subscription-btn btn-family" onclick="selectPlan('damp_family')">
                    Go Family Plan
                </a>
            </div>
        </div>

        <!-- Feature Comparison Table -->
        <div class="feature-comparison">
            <h2 class="comparison-title">Feature Comparison</h2>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th class="feature-name">Feature</th>
                        <th>Free</th>
                        <th>DAMP+</th>
                        <th>DAMP Family</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="feature-name">Connected Devices</td>
                        <td>1 device</td>
                        <td>3 devices</td>
                        <td>10 devices</td>
                    </tr>
                    <tr>
                        <td class="feature-name">Safe Zones</td>
                        <td>2 zones</td>
                        <td>5 zones</td>
                        <td>Unlimited</td>
                    </tr>
                    <tr>
                        <td class="feature-name">Notifications</td>
                        <td>Basic alerts</td>
                        <td>Standard alerts</td>
                        <td>Custom + shared</td>
                    </tr>
                    <tr>
                        <td class="feature-name">Location History</td>
                        <td>Last location</td>
                        <td>Last location</td>
                        <td>Full history</td>
                    </tr>
                    <tr>
                        <td class="feature-name">Family Sharing</td>
                        <td>❌</td>
                        <td>❌</td>
                        <td>✅</td>
                    </tr>
                    <tr>
                        <td class="feature-name">Priority Support</td>
                        <td>❌</td>
                        <td>✅</td>
                        <td>✅</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- FAQ Section -->
        <div class="faq-section">
            <h2 class="faq-title">Frequently Asked Questions</h2>
            
            <div class="faq-item">
                <div class="faq-question">How does the free tier work?</div>
                <div class="faq-answer">
                    The free tier gives you access to core DAMP functionality with 1 device and 2 safe zones. 
                    Perfect for trying out the system or single-device users. No credit card required.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">Can I upgrade or downgrade anytime?</div>
                <div class="faq-answer">
                    Yes! You can upgrade to a higher tier anytime. Downgrades take effect at the end of your current billing cycle 
                    to ensure you don't lose access to premium features.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">What happens if I exceed my device/zone limits?</div>
                <div class="faq-answer">
                    The app will prompt you to upgrade when you try to add devices or zones beyond your tier limits. 
                    Existing devices and zones continue working normally.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">Is there a family sharing option?</div>
                <div class="faq-answer">
                    Yes! DAMP Family includes full family sharing features, allowing family members to receive shared alerts 
                    and manage devices together. Perfect for keeping track of kids' water bottles.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">How do safe zones work?</div>
                <div class="faq-answer">
                    Safe zones are approved locations (like your desk, car, or kitchen) where you don't want drink abandonment alerts. 
                    The system uses WiFi fingerprinting and BLE to detect when you're in these areas.
                </div>
            </div>
        </div>
    </section>

    <!-- Scripts -->
    <script src="../assets/js/components/header.js"></script>
    <script src="../assets/js/cookie-consent-simple.js"></script>
    <script src="../assets/js/firebase-config.js" type="module"></script>
    <script src="../assets/js/subscription-config.js" type="module"></script>

    <script>
        // Initialize page components
        async function initializePage() {
            console.log('DAMP Subscription page loaded');
            
            // Initialize subscription tiers
            initializeSubscriptionTiers();
            
            // Set up form handlers
            setupFormHandlers();
            
            console.log('Subscription page initialized successfully');
        }

        function initializeSubscriptionTiers() {
            console.log('Subscription tiers initialized');
        }

        function setupFormHandlers() {
            console.log('Form handlers set up');
        }

        // Initialize when DOM is ready
        document.addEventListener('DOMContentLoaded', initializePage);
    </script>
    
    <!-- Simple Cookie Consent System -->
    <script>
        // Simple cookie consent auto-initializes, no additional setup needed
        console.log('Subscription page: Simple cookie consent loaded');
    </script>

    <!-- PWA Service Worker Registration -->
    <script>
        // Google PWA Standards Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', async () => {
                try {
                    const registration = await navigator.serviceWorker.register('/sw.js', {
                        scope: '/',
                        updateViaCache: 'none'
                    });
                    console.log('✅ Service Worker registered:', registration.scope);
                    
                    // Handle updates
                    registration.addEventListener('updatefound', () => {
                        const newWorker = registration.installing;
                        newWorker.addEventListener('statechange', () => {
                            if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                showUpdateNotification();
                            }
                        });
                    });
                    
                    window.dampPWA = { registration };
                } catch (error) {
                    console.error('❌ Service Worker failed:', error);
                }
            });
        }
        
        function showUpdateNotification() {
            const notification = document.createElement('div');
            notification.innerHTML = '<div style="position:fixed;top:20px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,#00d4ff,#00ff88);color:#1a1a2e;padding:15px 25px;border-radius:30px;font-weight:600;z-index:10000;display:flex;align-items:center;gap:15px;"><span>🚀</span><span>New version available!</span><button onclick="refreshApp()" style="background:rgba(26,26,46,0.2);color:#1a1a2e;border:none;padding:8px 16px;border-radius:20px;font-weight:600;cursor:pointer;">Update</button><button onclick="this.parentElement.parentElement.remove()" style="background:transparent;border:none;color:#1a1a2e;cursor:pointer;padding:5px;">×</button></div>';
            document.body.appendChild(notification);
        }
        
        function refreshApp() {
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.getRegistration().then(registration => {
                    if (registration && registration.waiting) {
                        registration.waiting.postMessage({ type: 'SKIP_WAITING' });
                        window.location.reload();
                    }
                });
            }
        }
        
        // PWA Install Prompt
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            setTimeout(showInstallPrompt, 3000);
        });
        
        function showInstallPrompt() {
            if (!deferredPrompt) return;
            const installBtn = document.createElement('button');
            installBtn.innerHTML = '📱 Install App';
            installBtn.style.cssText = 'position:fixed;bottom:20px;right:20px;background:linear-gradient(45deg,#00d4ff,#00ff88);color:#1a1a2e;border:none;padding:15px 25px;border-radius:30px;font-weight:700;cursor:pointer;z-index:9999;animation:pulse 2s infinite;';
            installBtn.onclick = async () => {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                if (outcome === 'accepted') {
                    console.log('✅ PWA installed');
                    if ('gtag' in window) gtag('event', 'pwa_install', { event_category: 'engagement' });
                }
                deferredPrompt = null;
                installBtn.remove();
            };
            document.body.appendChild(installBtn);
        }
        
        // PWA Styles
        const pwaStyles = document.createElement('style');
        pwaStyles.textContent = '@keyframes pulse { 0%,100% { transform:scale(1); } 50% { transform:scale(1.05); } } @media (display-mode: standalone) { body { padding-top: env(safe-area-inset-top); } }';
        document.head.appendChild(pwaStyles);
    </script></body>
</html> 